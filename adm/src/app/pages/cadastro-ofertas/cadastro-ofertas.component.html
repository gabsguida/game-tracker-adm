<section>
    <div class="container">
        <h2>Cadastro de Ofertas</h2>

        <div class="grid" [formGroup]="novaOfertaForm">
            <div class="campos">
                <mat-form-field appearance="outline">
                    <mat-label>ID</mat-label>
                    <input matInput placeholder="ID do jogo" type="number" formControlName="id" (keyup)="checkIdUnico()" />
                    <div>
                        <span class="hasError">{{ hasError(novaOfertaForm, 'id') }}</span>
                    </div>
                </mat-form-field>
            </div>


            <div class="campos">
                <mat-form-field appearance="outline">
                    <mat-label>Título</mat-label>
                    <input matInput type="text" placeholder="Título do jogo" formControlName="titulo" />
                    <div>
                        <span class="hasError">{{ hasError(novaOfertaForm, 'titulo') }}</span>
                    </div>
                </mat-form-field>
            </div>

            <div class="campos">
                <mat-form-field appearance="outline">
                    <mat-label>Preço</mat-label>
                    <input matInput type="text" placeholder="Preço do jogo" formControlName="preco"  />
                    <div>
                        <span class="hasError">{{ hasError(novaOfertaForm, 'preco') }}</span>
                    </div>
                </mat-form-field>
            </div>

            <div class="campos">
                <mat-form-field appearance="outline">
                    <mat-label>Preço com desconto</mat-label>
                    <input matInput type="text"  placeholder="Preço com desconto" formControlName="precoDesconto" 
                        (keyup)="checkPrecoValido()" />
                    <div>
                        <span class="hasError">{{ hasError(novaOfertaForm, 'precoDesconto') }}</span>
                    </div>
                </mat-form-field>
            </div>

            <div class="campos">
                <mat-form-field appearance="outline" >
                    <mat-label>Loja</mat-label>
                    <mat-select  formControlName="loja">
                        <mat-option *ngFor="let loja of lojas" [value]="loja.nome">
                            {{loja.nome}}</mat-option>
                    </mat-select>
                    <div>
                        <span class="hasError">{{ hasError(novaOfertaForm, 'loja') }}</span>
                    </div>
                </mat-form-field>
            </div>


            <div class="campos">
                <mat-form-field appearance="outline">
                    <mat-label>Descrição</mat-label>
                    <input matInput type="text" placeholder="Descrição" formControlName="descricao" />
                </mat-form-field>
            </div>

        </div>
        <div class="campos">
            <button mat-raised-button color="primary" [disabled]="novaOfertaForm.status == 'INVALID'" (click)="salvarOferta()">Salvar</button>
        </div>
    </div>
</section>